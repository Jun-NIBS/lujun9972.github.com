<!DOCTYPE html>
<html lang="en">
<head>
  <title>把Orange Pi打造成多功能下载机 - 暗无天日</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="linux和它的小伙伴,Aria2" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="https://lujun9972.github.io/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="https://lujun9972.github.io/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="https://lujun9972.github.io/">暗无天日</a> <span class="subtitle">=============&gt;随便,谢谢</span></h1>
        <ul>
          <li><a href="https://lujun9972.github.io/years/">Years</a></li>
          <li><a href="https://lujun9972.github.io/authors/">Authors</a></li>
          <li><a href="https://lujun9972.github.io/tags/">Tags</a></li>
          <li><a href="https://lujun9972.github.io/about/">About</a></li>
          <li><a href="https://github.com/lujun9972/lujun9972.github.com">Github</a></li>
          <li><a href="https://lujun9972.github.io/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="lujun9972.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1 class="title">把Orange Pi打造成多功能下载机</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org1b9508e">安装 aria2</a></li>
<li><a href="#org67f8af3">配置aria2.conf</a></li>
<li><a href="#orgba7491a">安装aria2 web前端</a>
<ul>
<li><a href="#orgb0d7b43">安装apache</a></li>
<li><a href="#org9fe8d65">安装中文YAAW</a></li>
<li><a href="#orge072092">使用YAAW</a></li>
</ul>
</li>
<li><a href="#orgbdb0eb6">配置aria2自启动</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1b9508e" class="outline-2">
<h2 id="org1b9508e">安装 aria2</h2>
<div class="outline-text-2" id="text-org1b9508e">
<div class="org-src-container">
<pre class="src src-shell">sudo apt install aria2 -y
</pre>
</div>
</div>
</div>

<div id="outline-container-org67f8af3" class="outline-2">
<h2 id="org67f8af3">配置aria2.conf</h2>
<div class="outline-text-2" id="text-org67f8af3">
<p>
我们假设下载文件放在 <code>/media/Downloads</code> 目录中
</p>
<div class="org-src-container">
<pre class="src src-shell">mkdir -p /media/Downloads
touch /media/Downloads/aria2.session
</pre>
</div>


<p>
新建 <code>/etc/aria2.conf</code> 文件
</p>
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">'#'&#24320;&#22836;&#20026;&#27880;&#37322;&#20869;&#23481;, &#36873;&#39033;&#37117;&#26377;&#30456;&#24212;&#30340;&#27880;&#37322;&#35828;&#26126;, &#26681;&#25454;&#38656;&#35201;&#20462;&#25913; ##</span>
<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">&#34987;&#27880;&#37322;&#30340;&#36873;&#39033;&#22635;&#20889;&#30340;&#26159;&#40664;&#35748;&#20540;, &#24314;&#35758;&#22312;&#38656;&#35201;&#20462;&#25913;&#26102;&#20877;&#21462;&#28040;&#27880;&#37322;  ##</span>

<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">&#25991;&#20214;&#20445;&#23384;&#30456;&#20851; ##</span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#25991;&#20214;&#30340;&#20445;&#23384;&#36335;&#24452;(&#21487;&#20351;&#29992;&#32477;&#23545;&#36335;&#24452;&#25110;&#30456;&#23545;&#36335;&#24452;), &#40664;&#35748;: &#24403;&#21069;&#21551;&#21160;&#20301;&#32622;</span>
<span style="color: #7590db;">dir</span>=/media/Downloads
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21551;&#29992;&#30913;&#30424;&#32531;&#23384;, 0&#20026;&#31105;&#29992;&#32531;&#23384;, &#38656;1.16&#20197;&#19978;&#29256;&#26412;, &#40664;&#35748;:16M</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">disk-cache=32M</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#25991;&#20214;&#39044;&#20998;&#37197;&#26041;&#24335;, &#33021;&#26377;&#25928;&#38477;&#20302;&#30913;&#30424;&#30862;&#29255;, &#40664;&#35748;:prealloc</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#39044;&#20998;&#37197;&#25152;&#38656;&#26102;&#38388;: none &lt; falloc ? trunc &lt; prealloc</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">falloc&#21644;trunc&#21017;&#38656;&#35201;&#25991;&#20214;&#31995;&#32479;&#21644;&#20869;&#26680;&#25903;&#25345;</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">NTFS&#24314;&#35758;&#20351;&#29992;falloc, EXT3/4&#24314;&#35758;trunc, MAC &#19979;&#38656;&#35201;&#27880;&#37322;&#27492;&#39033;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">file-allocation=none</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26029;&#28857;&#32493;&#20256;</span>
<span style="color: #7590db;">continue</span>=true

<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">&#19979;&#36733;&#36830;&#25509;&#30456;&#20851; ##</span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26368;&#22823;&#21516;&#26102;&#19979;&#36733;&#20219;&#21153;&#25968;, &#36816;&#34892;&#26102;&#21487;&#20462;&#25913;, &#40664;&#35748;:5</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">max-concurrent-downloads=5</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21516;&#19968;&#26381;&#21153;&#22120;&#36830;&#25509;&#25968;, &#28155;&#21152;&#26102;&#21487;&#25351;&#23450;, &#40664;&#35748;:1</span>
<span style="color: #7590db;">max-connection-per-server</span>=5
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26368;&#23567;&#25991;&#20214;&#20998;&#29255;&#22823;&#23567;, &#28155;&#21152;&#26102;&#21487;&#25351;&#23450;, &#21462;&#20540;&#33539;&#22260;1M -1024M, &#40664;&#35748;:20M</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20551;&#23450;size=10M, &#25991;&#20214;&#20026;20MiB &#21017;&#20351;&#29992;&#20004;&#20010;&#26469;&#28304;&#19979;&#36733;; &#25991;&#20214;&#20026;15MiB &#21017;&#20351;&#29992;&#19968;&#20010;&#26469;&#28304;&#19979;&#36733;</span>
<span style="color: #7590db;">min-split-size</span>=10M
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21333;&#20010;&#20219;&#21153;&#26368;&#22823;&#32447;&#31243;&#25968;, &#28155;&#21152;&#26102;&#21487;&#25351;&#23450;, &#40664;&#35748;:5</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">split=5</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#25972;&#20307;&#19979;&#36733;&#36895;&#24230;&#38480;&#21046;, &#36816;&#34892;&#26102;&#21487;&#20462;&#25913;, &#40664;&#35748;:0</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">max-overall-download-limit=0</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21333;&#20010;&#20219;&#21153;&#19979;&#36733;&#36895;&#24230;&#38480;&#21046;, &#40664;&#35748;:0</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">max-download-limit=0</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#25972;&#20307;&#19978;&#20256;&#36895;&#24230;&#38480;&#21046;, &#36816;&#34892;&#26102;&#21487;&#20462;&#25913;, &#40664;&#35748;:0</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">max-overall-upload-limit=0</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21333;&#20010;&#20219;&#21153;&#19978;&#20256;&#36895;&#24230;&#38480;&#21046;, &#40664;&#35748;:0</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">max-upload-limit=0</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#31105;&#29992;IPv6, &#40664;&#35748;:false</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">disable-ipv6=true</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#36830;&#25509;&#36229;&#26102;&#26102;&#38388;, &#40664;&#35748;:60</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">timeout=60</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26368;&#22823;&#37325;&#35797;&#27425;&#25968;, &#35774;&#32622;&#20026;0&#34920;&#31034;&#19981;&#38480;&#21046;&#37325;&#35797;&#27425;&#25968;, &#40664;&#35748;:5</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">max-tries=5</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#35774;&#32622;&#37325;&#35797;&#31561;&#24453;&#30340;&#31186;&#25968;, &#40664;&#35748;:0</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">retry-wait=0</span>

<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">&#36827;&#24230;&#20445;&#23384;&#30456;&#20851; ##</span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20174;&#20250;&#35805;&#25991;&#20214;&#20013;&#35835;&#21462;&#19979;&#36733;&#20219;&#21153;,&#24471;&#20808;&#26032;&#24314;&#65292;&#21542;&#21017;&#20250;&#21551;&#21160;&#22833;&#36133;</span>
<span style="color: #7590db;">input-file</span>=/media/Downloads/aria2.session
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#22312;Aria2&#36864;&#20986;&#26102;&#20445;&#23384;`&#38169;&#35823;/&#26410;&#23436;&#25104;`&#30340;&#19979;&#36733;&#20219;&#21153;&#21040;&#20250;&#35805;&#25991;&#20214;,&#24471;&#20808;&#26032;&#24314;&#65292;&#21542;&#21017;&#20250;&#21551;&#21160;&#22833;&#36133;</span>
<span style="color: #7590db;">save-session</span>=/media/Downloads/aria2.session
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#23450;&#26102;&#20445;&#23384;&#20250;&#35805;, 0&#20026;&#36864;&#20986;&#26102;&#25165;&#20445;&#23384;, &#38656;1.16.1&#20197;&#19978;&#29256;&#26412;, &#40664;&#35748;:0</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">save-session-interval=60</span>

<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">RPC&#30456;&#20851;&#35774;&#32622; ##</span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21551;&#29992;RPC, &#40664;&#35748;:false</span>
<span style="color: #7590db;">enable-rpc</span>=true
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20801;&#35768;&#25152;&#26377;&#26469;&#28304;, &#40664;&#35748;:false</span>
<span style="color: #7590db;">rpc-allow-origin-all</span>=true
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20801;&#35768;&#38750;&#22806;&#37096;&#35775;&#38382;, &#40664;&#35748;:false</span>
<span style="color: #7590db;">rpc-listen-all</span>=true
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20107;&#20214;&#36718;&#35810;&#26041;&#24335;, &#21462;&#20540;:[epoll, kqueue, port, poll, select], &#19981;&#21516;&#31995;&#32479;&#40664;&#35748;&#20540;&#19981;&#21516;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">event-poll=select</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">RPC&#30417;&#21548;&#31471;&#21475;, &#31471;&#21475;&#34987;&#21344;&#29992;&#26102;&#21487;&#20197;&#20462;&#25913;, &#40664;&#35748;:6800</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-listen-port=6800</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#35774;&#32622;&#30340;RPC&#25480;&#26435;&#20196;&#29260;, v1.18.4&#26032;&#22686;&#21151;&#33021;, &#21462;&#20195; --rpc-user &#21644; --rpc-passwd &#36873;&#39033;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-secret=&lt;TOKEN&gt;</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#35774;&#32622;&#30340;RPC&#35775;&#38382;&#29992;&#25143;&#21517;, &#27492;&#36873;&#39033;&#26032;&#29256;&#24050;&#24223;&#24323;, &#24314;&#35758;&#25913;&#29992; --rpc-secret &#36873;&#39033;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-user=&lt;USER&gt;</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#35774;&#32622;&#30340;RPC&#35775;&#38382;&#23494;&#30721;, &#27492;&#36873;&#39033;&#26032;&#29256;&#24050;&#24223;&#24323;, &#24314;&#35758;&#25913;&#29992; --rpc-secret &#36873;&#39033;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-passwd=&lt;PASSWD&gt;</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26159;&#21542;&#21551;&#29992; RPC &#26381;&#21153;&#30340; SSL/TLS &#21152;&#23494;,</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21551;&#29992;&#21152;&#23494;&#21518; RPC &#26381;&#21153;&#38656;&#35201;&#20351;&#29992; https &#25110;&#32773; wss &#21327;&#35758;&#36830;&#25509;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-secure=true</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#22312; RPC &#26381;&#21153;&#20013;&#21551;&#29992; SSL/TLS &#21152;&#23494;&#26102;&#30340;&#35777;&#20070;&#25991;&#20214;,</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20351;&#29992; PEM &#26684;&#24335;&#26102;&#65292;&#24744;&#24517;&#39035;&#36890;&#36807; --rpc-private-key &#25351;&#23450;&#31169;&#38053;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-certificate=/path/to/certificate.pem</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#22312; RPC &#26381;&#21153;&#20013;&#21551;&#29992; SSL/TLS &#21152;&#23494;&#26102;&#30340;&#31169;&#38053;&#25991;&#20214;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">rpc-private-key=/path/to/certificate.key</span>

<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">BT/PT&#19979;&#36733;&#30456;&#20851; ##</span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#24403;&#19979;&#36733;&#30340;&#26159;&#19968;&#20010;&#31181;&#23376;(&#20197;.torrent&#32467;&#23614;)&#26102;, &#33258;&#21160;&#24320;&#22987;BT&#20219;&#21153;, &#40664;&#35748;:true</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">follow-torrent=true</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">BT&#30417;&#21548;&#31471;&#21475;, &#24403;&#31471;&#21475;&#34987;&#23631;&#34109;&#26102;&#20351;&#29992;, &#40664;&#35748;:6881-6999</span>
<span style="color: #7590db;">listen-port</span>=51413
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21333;&#20010;&#31181;&#23376;&#26368;&#22823;&#36830;&#25509;&#25968;, &#40664;&#35748;:55</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">bt-max-peers=55</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#25171;&#24320;DHT&#21151;&#33021;, PT&#38656;&#35201;&#31105;&#29992;, &#40664;&#35748;:true</span>
<span style="color: #7590db;">enable-dht</span>=false
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#25171;&#24320;IPv6 DHT&#21151;&#33021;, PT&#38656;&#35201;&#31105;&#29992;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">enable-dht6=false</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">DHT&#32593;&#32476;&#30417;&#21548;&#31471;&#21475;, &#40664;&#35748;:6881-6999</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">dht-listen-port=6881-6999</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26412;&#22320;&#33410;&#28857;&#26597;&#25214;, PT&#38656;&#35201;&#31105;&#29992;, &#40664;&#35748;:false</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">bt-enable-lpd=false</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#31181;&#23376;&#20132;&#25442;, PT&#38656;&#35201;&#31105;&#29992;, &#40664;&#35748;:true</span>
<span style="color: #7590db;">enable-peer-exchange</span>=false
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#27599;&#20010;&#31181;&#23376;&#38480;&#36895;, &#23545;&#23569;&#31181;&#30340;PT&#24456;&#26377;&#29992;, &#40664;&#35748;:50K</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">bt-request-peer-speed-limit=50K</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#23458;&#25143;&#31471;&#20266;&#35013;, PT&#38656;&#35201;</span>
<span style="color: #7590db;">peer-id-prefix</span>=-TR2770-
<span style="color: #7590db;">user-agent</span>=Transmission/2.77
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#24403;&#31181;&#23376;&#30340;&#20998;&#20139;&#29575;&#36798;&#21040;&#36825;&#20010;&#25968;&#26102;, &#33258;&#21160;&#20572;&#27490;&#20570;&#31181;, 0&#20026;&#19968;&#30452;&#20570;&#31181;, &#40664;&#35748;:1.0</span>
<span style="color: #7590db;">seed-ratio</span>=0
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#24378;&#21046;&#20445;&#23384;&#20250;&#35805;, &#21363;&#20351;&#20219;&#21153;&#24050;&#32463;&#23436;&#25104;, &#40664;&#35748;:false</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#36739;&#26032;&#30340;&#29256;&#26412;&#24320;&#21551;&#21518;&#20250;&#22312;&#20219;&#21153;&#23436;&#25104;&#21518;&#20381;&#28982;&#20445;&#30041;.aria2&#25991;&#20214;</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">force-save=false</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">BT&#26657;&#39564;&#30456;&#20851;, &#40664;&#35748;:true</span>
<span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">bt-hash-check-seed=true</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#32487;&#32493;&#20043;&#21069;&#30340;BT&#20219;&#21153;&#26102;, &#26080;&#38656;&#20877;&#27425;&#26657;&#39564;, &#40664;&#35748;:false</span>
<span style="color: #7590db;">bt-seed-unverified</span>=true
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#20445;&#23384;&#30913;&#21147;&#38142;&#25509;&#20803;&#25968;&#25454;&#20026;&#31181;&#23376;&#25991;&#20214;(.torrent&#25991;&#20214;), &#40664;&#35748;:false</span>
<span style="color: #7590db;">bt-save-metadata</span>=true
</pre>
</div>

<p>
这样可以通过 <code>aria2c --conf-path="/etc/aria2.conf"</code> 来让Aria2应用该z配置。
</p>

<p>
若想让 <code>aria2</code> 以Daemon的方式运行，则可以加上 <code>-D</code> 参数，像这样
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo aria2c --conf-path=<span style="color: #2d9574;">"/etc/aria2.conf"</span> -D
</pre>
</div>

<p>
你要是嫌指定 <code>--conf-path</code> 参数太麻烦，那么可以创建一个 <code>$HOME/.aria2/aria2.conf</code> 的软链接
</p>
<div class="org-src-container">
<pre class="src src-shell">mkdir -p ~/.aria2
ln -s /etc/aria2.conf ~/.aria2/aria2.conf
</pre>
</div>

<p>
这样就可以省略 <code>--conf-path</code> 参数了
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo aria2c -D
</pre>
</div>
</div>
</div>

<div id="outline-container-orgba7491a" class="outline-2">
<h2 id="orgba7491a">安装aria2 web前端</h2>
<div class="outline-text-2" id="text-orgba7491a">
</div>
<div id="outline-container-orgb0d7b43" class="outline-3">
<h3 id="orgb0d7b43">安装apache</h3>
<div class="outline-text-3" id="text-orgb0d7b43">
<div class="org-src-container">
<pre class="src src-shell">sudo apt install apache2 -y
</pre>
</div>
</div>
</div>
<div id="outline-container-org9fe8d65" class="outline-3">
<h3 id="org9fe8d65">安装中文YAAW</h3>
<div class="outline-text-3" id="text-org9fe8d65">
<div class="org-src-container">
<pre class="src src-shell">git clone https://github.com/aa65535/yaaw-zh-hans /var/www/html/yaaw
</pre>
</div>
</div>
</div>
<div id="outline-container-orge072092" class="outline-3">
<h3 id="orge072092">使用YAAW</h3>
<div class="outline-text-3" id="text-orge072092">
<p>
访问 <code>http://orangepipc2/yaaw</code>, 然后点击右边刷新 <b>旁边</b> 的配置按钮，在 <code>JSON-RPC Path</code> 中填入 <a href="http://orangepipc2:6800/jsonrpc">http://orangepipc2:6800/jsonrpc</a>. 
</p>

<p>
其中 <code>orangepipc2</code> 是OrangePi的IP地址
</p>
</div>
</div>
</div>
<div id="outline-container-orgbdb0eb6" class="outline-2">
<h2 id="orgbdb0eb6">配置aria2自启动</h2>
<div class="outline-text-2" id="text-orgbdb0eb6">
<p>
新建文件 <code>/etc/systemd/system/aria2.service</code> ，然后输入以下内容
</p>
<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #ce537a; font-weight: bold;">Unit</span>]
<span style="color: #7590db;">Description</span>=Aria2
<span style="color: #7590db;">After</span>=syslog.target
<span style="color: #7590db;">After</span>=network.target

[<span style="color: #ce537a; font-weight: bold;">Service</span>]
<span style="color: #7590db;">Type</span>=simple
<span style="color: #7590db;">User</span>=root
<span style="color: #7590db;">Group</span>=root
<span style="color: #7590db;">WorkingDirectory</span>=/root
<span style="color: #7590db;">ExecStart</span>=/usr/bin/aria2c  --conf-path=<span style="color: #2d9574;">"/etc/aria2.conf -D</span>
<span style="color: #2d9574;"># Restart=always</span>
<span style="color: #2d9574;">Environment=USER=root HOME=/root</span>

<span style="color: #2d9574;">[Install]</span>
<span style="color: #2d9574;">WantedBy=multi-user.target</span>
</pre>
</div>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-03-07</span>
            <span title="last modification date" class="post-info">2018-03-07</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/tags/linux和它的小伙伴">linux和它的小伙伴</a> : <a href="https://lujun9972.github.io/tags/aria2">Aria2</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/03/07/把orange-pi打造成多功能下载机/";
         var disqus_url = "https://lujun9972.github.io/blog/2018/03/07/把orange-pi打造成多功能下载机/";
         var disqus_shortname = 'lujun9972';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="https://lujun9972.github.io/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
