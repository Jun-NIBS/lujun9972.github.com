<!DOCTYPE html>
<html lang="en">
<head>
  <title>如何在Linux上查看RAM信息 - 暗无天日</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="linux和它的小伙伴,hardware" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="https://lujun9972.github.io/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="https://lujun9972.github.io/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="https://lujun9972.github.io/">暗无天日</a> <span class="subtitle">=============&gt;随便,谢谢</span></h1>
        <ul>
          <li><a href="https://lujun9972.github.io/years/">Years</a></li>
          <li><a href="https://lujun9972.github.io/authors/">Authors</a></li>
          <li><a href="https://lujun9972.github.io/tags/">Tags</a></li>
          <li><a href="https://lujun9972.github.io/about/">About</a></li>
          <li><a href="https://github.com/lujun9972/lujun9972.github.com">Github</a></li>
          <li><a href="https://lujun9972.github.io/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="lujun9972.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1 class="title">如何在Linux上查看RAM信息</h1>
<p>
一般常用的查看RAM的方法是运行 <code>free -h</code> 或者直接查看 <code>/proc/meminfo</code> 文件
</p>

<div class="org-src-container">
<pre class="src src-shell">free -h
</pre>
</div>

<p>
结果为:
</p>
<div class="org-src-container">
<pre class="src src-org">              &#24635;&#35745;         &#24050;&#29992;        &#31354;&#38386;      &#20849;&#20139;    &#32531;&#20914;/&#32531;&#23384;    &#21487;&#29992;
&#20869;&#23384;&#65306;        3.6G        1.9G        693M         76M        1.1G        2.0G
&#20132;&#25442;&#65306;        8.0G          0B        8.0G
</pre>
</div>


<div class="org-src-container">
<pre class="src src-shell">cat /proc/meminfo
</pre>
</div>

<p>
结果为:
</p>
<div class="org-src-container">
<pre class="src src-org">MemTotal:        3814108 kB
MemFree:          704976 kB
MemAvailable:    2111076 kB
Buffers:          129312 kB
Cached:           822152 kB
SwapCached:            0 kB
Active:          1578760 kB
Inactive:        1215704 kB
Active(anon):    1205632 kB
Inactive(anon):    77724 kB
Active(file):     373128 kB
Inactive(file):  1137980 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:       8388604 kB
SwapFree:        8388604 kB
Dirty:               184 kB
Writeback:             0 kB
AnonPages:       1843088 kB
Mapped:           392840 kB
Shmem:             78340 kB
Slab:             216944 kB
SReclaimable:     181768 kB
SUnreclaim:        35176 kB
KernelStack:        7296 kB
PageTables:        20540 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:    10295656 kB
Committed_AS:    4622348 kB
VmallocTotal:   34359738367 kB
VmallocUsed:           0 kB
VmallocChunk:          0 kB
HardwareCorrupted:     0 kB
AnonHugePages:         0 kB
ShmemHugePages:        0 kB
ShmemPmdMapped:        0 kB
HugePages_Total:       0
HugePages_Free:        0
HugePages_Rsvd:        0
HugePages_Surp:        0
Hugepagesize:       2048 kB
DirectMap4k:      118400 kB
DirectMap2M:     3846144 kB
</pre>
</div>

<p>
但是通过这种方式，你只能看到内存的总量和使用量。而无法知道内存的类型（DDR1、DDR2、DDR3、DDR4、SDRAM、DRAM）、频率等信息。
</p>

<p>
要获取这些信息，你需要借助 <code>dmidecode</code> 命令，像下面这样：
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo dmidecode --type memory
</pre>
</div>

<p>
结果为:
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #2aa1ae; background-color: #292e34;"># dmidecode 3.1</span>
Getting SMBIOS data from sysfs.
SMBIOS 2.6 present.

Handle 0x0005, DMI type 16, 15 bytes
Physical Memory Array
  Location: System Board Or Motherboard
  Use: System Memory
  Error Correction Type: None
  Maximum Capacity: 16 GB
  Error Information Handle: Not Provided
  Number Of Devices: 2

Handle 0x0006, DMI type 17, 28 bytes
Memory Device
  Array Handle: 0x0005
  Error Information Handle: Not Provided
  Total Width: 64 bits
  Data Width: 64 bits
  Size: 2048 MB
  Form Factor: SODIMM
  Set: None
  Locator: ChannelA-DIMM0
  Bank Locator: BANK 0
  Type: DDR3
  Type Detail: Synchronous
  Speed: 1333 MT/s
  Manufacturer: Hynix/Hyundai
  Serial Number: 3152AA49
  Asset Tag: 9876543210
  Part Number: HMT325S6BFR8C-H9  
  Rank: Unknown

Handle 0x0007, DMI type 17, 28 bytes
Memory Device
  Array Handle: 0x0005
  Error Information Handle: Not Provided
  Total Width: 64 bits
  Data Width: 64 bits
  Size: 2048 MB
  Form Factor: SODIMM
  Set: None
  Locator: ChannelB-DIMM0
  Bank Locator: BANK 2
  Type: DDR3
  Type Detail: Synchronous
  Speed: 1333 MT/s
  Manufacturer: Hynix/Hyundai
  Serial Number: 0C41233F
  Asset Tag: 9876543210
  Part Number: HMT325S6BFR8C-H9  
  Rank: Unknown

</pre>
</div>

<p>
可以看到，结果一共分成4段，其中
</p>

<ul class="org-ul">
<li>第一段是dmidecode的说明</li>

<li>第二段中 <code>Number Of Devices: 2</code> 表示主板上有两个内存条</li>

<li>第三、四段中 <code>Size: 2048 MB</code> 表示每个内存条2G大小</li>

<li>第三、四段中 <code>Type: DDR3</code> 表示每个内存条都是DDR3的</li>

<li>第三、四段中 <code>Speed: 1333 MT/s</code> 表示每个内存条的频率都是1333MHz的</li>
</ul>


<p>
还有一种方法是，利用 <code>lshw</code> 来获取内存信息
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo lshw -class memory
</pre>
</div>

<p>
结果为:
</p>
<div class="org-src-container">
<pre class="src src-org">*-cache:0
     description: L1 cache
     physical id: 2
     slot: L1-Cache
     size: 64KiB
     capacity: 64KiB
     capabilities: synchronous internal write-through data
     configuration: level=1
*-cache:1
     description: L2 cache
     physical id: 3
     slot: L2-Cache
     size: 256KiB
     capacity: 256KiB
     capabilities: synchronous internal write-through data
     configuration: level=2
*-cache:2
     description: L3 cache
     physical id: 4
     slot: L3-Cache
     size: 3MiB
     capacity: 3MiB
     capabilities: synchronous internal write-back unified
     configuration: level=3
*-memory
     description: System Memory
     physical id: 5
     slot: System board or motherboard
     size: 4GiB
   *-bank:0
        description: SODIMM DDR3 Synchronous 1333 MHz (0.8 ns)
        product: HMT325S6BFR8C-H9
        vendor: Hynix/Hyundai
        physical id: 0
        serial: 3152AA49
        slot: ChannelA-DIMM0
        size: 2GiB
        width: 64 bits
        clock: 1333MHz (0.8ns)
   *-bank:1
        description: SODIMM DDR3 Synchronous 1333 MHz (0.8 ns)
        product: HMT325S6BFR8C-H9
        vendor: Hynix/Hyundai
        physical id: 1
        serial: 0C41233F
        slot: ChannelB-DIMM0
        size: 2GiB
        width: 64 bits
        clock: 1333MHz (0.8ns)
*-firmware
     description: BIOS
     vendor: LENOVO
     physical id: f
     version: 8AET52WW (1.32 )
     date: 09/15/2011
     size: 128KiB
     capacity: 8128KiB
     capabilities: pci pnp upgrade shadowing cdboot bootselect edd int13floppy720 int5printscreen int9keyboard int14serial int17printer int10video acpi usb biosbootspecification
</pre>
</div>

<p>
从它的 <code>description</code>, <code>size</code>, 和 <code>clock</code> 中也可以看出内存为DDR3,每条内存2G，频率为1333MHz。
</p>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-03-12</span>
            <span title="last modification date" class="post-info">2018-03-14</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/tags/linux和它的小伙伴">linux和它的小伙伴</a> : <a href="https://lujun9972.github.io/tags/hardware">hardware</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/03/12/如何在linux上查看ram信息/";
         var disqus_url = "https://lujun9972.github.io/blog/2018/03/12/如何在linux上查看ram信息/";
         var disqus_shortname = 'lujun9972';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="https://lujun9972.github.io/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
