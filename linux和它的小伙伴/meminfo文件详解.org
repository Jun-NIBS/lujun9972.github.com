#+TITLE: meminfo文件详解
#+AUTHOR: lujun9972
#+TAGS: linux和它的小伙伴
#+DATE: [2018-04-17 二 10:01]
#+LANGUAGE:  zh-CN
#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil

一个 =/proc/meminfo= 的内容看起来是这样的：
#+BEGIN_SRC shell :results org
  cat /proc/meminfo |nl
#+END_SRC

结果为:
#+BEGIN_SRC org
     1	MemTotal:        3814108 kB
     2	MemFree:          111908 kB
     3	MemAvailable:     394844 kB
     4	Buffers:           22976 kB
     5	Cached:           291436 kB
     6	SwapCached:        15480 kB
     7	Active:          1634948 kB
     8	Inactive:         784896 kB
     9	Active(anon):    1487400 kB
    10	Inactive(anon):   474008 kB
    11	Active(file):     147548 kB
    12	Inactive(file):   310888 kB
    13	Unevictable:           0 kB
    14	Mlocked:               0 kB
    15	SwapTotal:       8388604 kB
    16	SwapFree:        8238844 kB
    17	Dirty:             22280 kB
    18	Writeback:             0 kB
    19	AnonPages:       2103892 kB
    20	Mapped:          1262612 kB
    21	Shmem:             81684 kB
    22	Slab:              99048 kB
    23	SReclaimable:      53432 kB
    24	SUnreclaim:        45616 kB
    25	KernelStack:        8352 kB
    26	PageTables:        24152 kB
    27	NFS_Unstable:          0 kB
    28	Bounce:                0 kB
    29	WritebackTmp:          0 kB
    30	CommitLimit:    10295656 kB
    31	Committed_AS:    6235812 kB
    32	VmallocTotal:   34359738367 kB
    33	VmallocUsed:           0 kB
    34	VmallocChunk:          0 kB
    35	HardwareCorrupted:     0 kB
    36	AnonHugePages:         0 kB
    37	ShmemHugePages:        0 kB
    38	ShmemPmdMapped:        0 kB
    39	HugePages_Total:       0
    40	HugePages_Free:        0
    41	HugePages_Rsvd:        0
    42	HugePages_Surp:        0
    43	Hugepagesize:       2048 kB
    44	DirectMap4k:      106112 kB
    45	DirectMap2M:     3858432 kB
#+END_SRC

下面就来尝试解释一下这些行的意义：

* MemTotal:        3814108 kB
* MemFree:          110008 kB
* MemAvailable:      60948 kB
* Buffers:            3324 kB
* Cached:           147476 kB
* SwapCached:       114852 kB
* Active:           978684 kB
* Inactive:         357080 kB
* Active(anon):     927568 kB
* Inactive(anon):   321440 kB
* Active(file):      51116 kB
* Inactive(file):    35640 kB
* Unevictable:          32 kB
* Mlocked:              32 kB
* SwapTotal:       8388604 kB
* SwapFree:        7211516 kB
* Dirty:                40 kB
* Writeback:             0 kB
* AnonPages:       1164512 kB
* Mapped:          2244604 kB
* Shmem:             66852 kB
* Slab:             107728 kB

#+BEGIN_SRC shell :results org :dir /sudo::
  sudo cat /proc/slabinfo 
#+END_SRC

#+RESULTS:
#+BEGIN_SRC org
slabinfo - version: 2.1
# name            <active_objs> <num_objs> <objsize> <objperslab> <pagesperslab> : tunables <limit> <batchcount> <sharedfactor> : slabdata <active_slabs> <num_slabs> <sharedavail>
fat_inode_cache       44     44    744   22    4 : tunables    0    0    0 : slabdata      2      2      0
fat_cache            102    102     40  102    1 : tunables    0    0    0 : slabdata      1      1      0
fuse_request          20     20    400   20    2 : tunables    0    0    0 : slabdata      1      1      0
fuse_inode            39     39    832   39    8 : tunables    0    0    0 : slabdata      1      1      0
nf_conntrack         105    200    320   25    2 : tunables    0    0    0 : slabdata      8      8      0
ovl_inode             46     46    688   23    4 : tunables    0    0    0 : slabdata      2      2      0
kvm_async_pf           0      0    136   30    1 : tunables    0    0    0 : slabdata      0      0      0
kvm_vcpu               0      0  23488    1    8 : tunables    0    0    0 : slabdata      0      0      0
kvm_mmu_page_header      0      0    168   24    1 : tunables    0    0    0 : slabdata      0      0      0
pte_list_desc          0      0     32  128    1 : tunables    0    0    0 : slabdata      0      0      0
drm_i915_gem_request    112    112    576   28    4 : tunables    0    0    0 : slabdata      4      4      0
i915_vma             151    230    704   23    4 : tunables    0    0    0 : slabdata     10     10      0
drm_i915_gem_object    154    231    768   21    4 : tunables    0    0    0 : slabdata     11     11      0
ext4_groupinfo_4k    896    896    144   28    1 : tunables    0    0    0 : slabdata     32     32      0
ext4_inode_cache   11192  22710   1088   30    8 : tunables    0    0    0 : slabdata    757    757      0
ext4_allocation_context    128    128    128   32    1 : tunables    0    0    0 : slabdata      4      4      0
ext4_io_end          256    512     64   64    1 : tunables    0    0    0 : slabdata      8      8      0
ext4_extent_status   1926   3366     40  102    1 : tunables    0    0    0 : slabdata     33     33      0
mbcache              292    584     56   73    1 : tunables    0    0    0 : slabdata      8      8      0
jbd2_journal_head    136    272    120   34    1 : tunables    0    0    0 : slabdata      8      8      0
jbd2_revoke_table_s    512    512     16  256    1 : tunables    0    0    0 : slabdata      2      2      0
fscrypt_info         512    768     32  128    1 : tunables    0    0    0 : slabdata      6      6      0
fscrypt_ctx          340    340     48   85    1 : tunables    0    0    0 : slabdata      4      4      0
RAWv6                 84     84   1152   28    8 : tunables    0    0    0 : slabdata      3      3      0
UDPv6                104    208   1216   26    8 : tunables    0    0    0 : slabdata      8      8      0
tw_sock_TCPv6         34     34    240   34    2 : tunables    0    0    0 : slabdata      1      1      0
request_sock_TCPv6      0      0    304   26    2 : tunables    0    0    0 : slabdata      0      0      0
TCPv6                 60     60   2176   15    8 : tunables    0    0    0 : slabdata      4      4      0
bfq_queue              0      0    432   37    4 : tunables    0    0    0 : slabdata      0      0      0
cfq_io_cq            311    340    120   34    1 : tunables    0    0    0 : slabdata     10     10      0
cfq_queue            315    340    240   34    2 : tunables    0    0    0 : slabdata     10     10      0
bsg_cmd                0      0    216   37    2 : tunables    0    0    0 : slabdata      0      0      0
mqueue_inode_cache     34     34    960   34    8 : tunables    0    0    0 : slabdata      1      1      0
dio                   25     25    640   25    4 : tunables    0    0    0 : slabdata      1      1      0
pid_namespace          0      0    208   39    2 : tunables    0    0    0 : slabdata      0      0      0
posix_timers_cache     35     35    232   35    2 : tunables    0    0    0 : slabdata      1      1      0
ip4-frags              0      0    176   23    1 : tunables    0    0    0 : slabdata      0      0      0
xfrm_dst_cache         0      0    448   36    4 : tunables    0    0    0 : slabdata      0      0      0
RAW                  136    136    960   34    8 : tunables    0    0    0 : slabdata      4      4      0
tw_sock_TCP          136    136    240   34    2 : tunables    0    0    0 : slabdata      4      4      0
request_sock_TCP     104    104    304   26    2 : tunables    0    0    0 : slabdata      4      4      0
TCP                   70    128   2048   16    8 : tunables    0    0    0 : slabdata      8      8      0
hugetlbfs_inode_cache     52     52    624   26    4 : tunables    0    0    0 : slabdata      2      2      0
dquot                128    128    256   32    2 : tunables    0    0    0 : slabdata      4      4      0
eventpoll_pwq       1904   1904     72   56    1 : tunables    0    0    0 : slabdata     34     34      0
eventpoll_epi       1166   1184    128   32    1 : tunables    0    0    0 : slabdata     37     37      0
dax_cache             21     21    768   21    4 : tunables    0    0    0 : slabdata      1      1      0
request_queue         30     30   2128   15    8 : tunables    0    0    0 : slabdata      2      2      0
dmaengine-unmap-256     15     15   2112   15    8 : tunables    0    0    0 : slabdata      1      1      0
dmaengine-unmap-128     30     30   1088   30    8 : tunables    0    0    0 : slabdata      1      1      0
sock_inode_cache    1550   1656    704   23    4 : tunables    0    0    0 : slabdata     72     72      0
file_lock_cache       87    100    200   20    1 : tunables    0    0    0 : slabdata      5      5      0
net_namespace         10     10   6080    5    8 : tunables    0    0    0 : slabdata      2      2      0
shmem_inode_cache   2391   2530    712   23    4 : tunables    0    0    0 : slabdata    110    110      0
taskstats             96     96    328   24    2 : tunables    0    0    0 : slabdata      4      4      0
proc_inode_cache    1301   1632    680   24    4 : tunables    0    0    0 : slabdata     68     68      0
sigqueue             100    100    160   25    1 : tunables    0    0    0 : slabdata      4      4      0
bdev_cache           234    234    832   39    8 : tunables    0    0    0 : slabdata      6      6      0
kernfs_node_cache  30324  30540    136   30    1 : tunables    0    0    0 : slabdata   1018   1018      0
mnt_cache            214    294    384   21    2 : tunables    0    0    0 : slabdata     14     14      0
filp                7402   9088    256   32    2 : tunables    0    0    0 : slabdata    284    284      0
inode_cache        14927  16328    608   26    4 : tunables    0    0    0 : slabdata    628    628      0
dentry             26868  35532    192   21    1 : tunables    0    0    0 : slabdata   1692   1692      0
buffer_head        20678  24492    104   39    1 : tunables    0    0    0 : slabdata    628    628      0
nsproxy              292    292     56   73    1 : tunables    0    0    0 : slabdata      4      4      0
files_cache          626    713    704   23    4 : tunables    0    0    0 : slabdata     31     31      0
signal_cache        1022   1216   1024   32    8 : tunables    0    0    0 : slabdata     38     38      0
sighand_cache        502    585   2112   15    8 : tunables    0    0    0 : slabdata     39     39      0
task_struct          607    672   7744    4    8 : tunables    0    0    0 : slabdata    168    168      0
cred_jar           15087  16548    192   21    1 : tunables    0    0    0 : slabdata    788    788      0
anon_vma            6830   7728     88   46    1 : tunables    0    0    0 : slabdata    168    168      0
pid                11687  13696     64   64    1 : tunables    0    0    0 : slabdata    214    214      0
Acpi-Operand        3516   3528     72   56    1 : tunables    0    0    0 : slabdata     63     63      0
Acpi-ParseExt        296    312    104   39    1 : tunables    0    0    0 : slabdata      8      8      0
Acpi-State          2583   2601     80   51    1 : tunables    0    0    0 : slabdata     51     51      0
Acpi-Namespace      2040   2040     40  102    1 : tunables    0    0    0 : slabdata     20     20      0
numa_policy         2887   2890     24  170    1 : tunables    0    0    0 : slabdata     17     17      0
trace_event_file    1840   1840     88   46    1 : tunables    0    0    0 : slabdata     40     40      0
ftrace_event_field   5772   5950     48   85    1 : tunables    0    0    0 : slabdata     70     70      0
radix_tree_node    14363  16520    584   28    4 : tunables    0    0    0 : slabdata    590    590      0
task_group           112    112    576   28    4 : tunables    0    0    0 : slabdata      4      4      0
dma-kmalloc-8192       0      0   8192    4    8 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-4096       0      0   4096    8    8 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-2048       0      0   2048   16    8 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-1024       0      0   1024   32    8 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-512       32     32    512   32    4 : tunables    0    0    0 : slabdata      1      1      0
dma-kmalloc-256        0      0    256   32    2 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-128        0      0    128   32    1 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-64         0      0     64   64    1 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-32         0      0     32  128    1 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-16         0      0     16  256    1 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-8          0      0      8  512    1 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-192        0      0    192   21    1 : tunables    0    0    0 : slabdata      0      0      0
dma-kmalloc-96         0      0     96   42    1 : tunables    0    0    0 : slabdata      0      0      0
kmalloc-8192        1113   1129   8192    4    8 : tunables    0    0    0 : slabdata    283    283      0
kmalloc-4096         256    280   4096    8    8 : tunables    0    0    0 : slabdata     35     35      0
kmalloc-2048        1283   1360   2048   16    8 : tunables    0    0    0 : slabdata     85     85      0
kmalloc-1024        2923   3104   1024   32    8 : tunables    0    0    0 : slabdata     97     97      0
kmalloc-512         4479   4576    512   32    4 : tunables    0    0    0 : slabdata    143    143      0
kmalloc-256         2816   2976    256   32    2 : tunables    0    0    0 : slabdata     93     93      0
kmalloc-192         3045   3129    192   21    1 : tunables    0    0    0 : slabdata    149    149      0
kmalloc-128         2337   3840    128   32    1 : tunables    0    0    0 : slabdata    120    120      0
kmalloc-96          4619   7560     96   42    1 : tunables    0    0    0 : slabdata    180    180      0
kmalloc-64          8816  10560     64   64    1 : tunables    0    0    0 : slabdata    165    165      0
kmalloc-32         13015  13056     32  128    1 : tunables    0    0    0 : slabdata    102    102      0
kmalloc-16          8662   8704     16  256    1 : tunables    0    0    0 : slabdata     34     34      0
kmalloc-8           7665   7680      8  512    1 : tunables    0    0    0 : slabdata     15     15      0
kmem_cache_node      799    832     64   64    1 : tunables    0    0    0 : slabdata     13     13      0
kmem_cache           729    756    384   21    2 : tunables    0    0    0 : slabdata     36     36      0
#+END_SRC
* SReclaimable:      50604 kB
* SUnreclaim:        57124 kB
* KernelStack:        8704 kB
* PageTables:        28720 kB
* NFS_Unstable:          0 kB
* Bounce:                0 kB
* WritebackTmp:          0 kB
* CommitLimit:    10295656 kB
* Committed_AS:    7566728 kB
* VmallocTotal:   34359738367 kB
* VmallocUsed:           0 kB
* VmallocChunk:          0 kB
* HardwareCorrupted:     0 kB
* AnonHugePages:         0 kB
* ShmemHugePages:        0 kB
* ShmemPmdMapped:        0 kB
* HugePages_Total:       0
* HugePages_Free:        0
* HugePages_Rsvd:        0
* HugePages_Surp:        0
* Hugepagesize:       2048 kB
* DirectMap4k:      290432 kB
* DirectMap2M:     3674112 kB

